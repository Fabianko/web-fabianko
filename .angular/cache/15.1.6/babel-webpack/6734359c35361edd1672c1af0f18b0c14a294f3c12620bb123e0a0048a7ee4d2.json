{"ast":null,"code":"import { ApiPokemonService } from '../api-pokemon.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../api-pokemon.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction DiscoveryPanelComponent_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 16)(1, \"button\", 17);\n    i0.ɵɵtext(2, \" \\u00D7 \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"strong\");\n    i0.ɵɵtext(4, \"Oh sorry!\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \" that's not the pokemon, try again \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction DiscoveryPanelComponent_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"p\", 18);\n    i0.ɵɵtext(2);\n    i0.ɵɵelement(3, \"i\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const item_r3 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\" \", item_r3.answer, \" / \", item_r3.rightAnswer, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassMap(item_r3.type ? \"fa fa-check i-green\" : \"fa fa-times i-red\");\n  }\n}\nexport class DiscoveryPanelComponent {\n  constructor(apiPokemonService) {\n    this.apiPokemonService = apiPokemonService;\n    this.listFound = [];\n    this.listWrong = [];\n    this.listLog = [];\n    this.dificultDistance = 3;\n    this.failCount = 0;\n  }\n  ngOnInit() {}\n  validPokemon() {\n    this.display_not_found = false;\n    let type;\n    let rightAnswer = this.apiPokemonService.pokemonSelected.name;\n    if (this.keyValid === this.apiPokemonService.pokemonSelected.name || this.sameString(this.keyValid, this.apiPokemonService.pokemonSelected.name) || this.keyValid === this.apiPokemonService.pokemonSelected.id.toString()) {\n      console.log(this.apiPokemonService.pokemonSelected);\n      this.listFound.push(this.apiPokemonService.pokemonSelected);\n      this.randomPokemon();\n      type = 1;\n    } else {\n      this.failCount += 1;\n      this.display_not_found = true;\n      this.listWrong.push(this.apiPokemonService.pokemonSelected);\n      type = 0;\n      if (this.failCount === 3) {\n        this.failCount = 0;\n        this.randomPokemon();\n      }\n    }\n    this.listLog.push({\n      'answer': this.keyValid,\n      'rightAnswer': rightAnswer,\n      'type': type\n    });\n    this.keyValid = '';\n  }\n  sameString(a, b) {\n    let val = this.levenshteinDistance(a, b);\n    console.log(a, b, val);\n    if (val <= this.dificultDistance) {\n      return true;\n    }\n    return false;\n  }\n  levenshteinDistance(a, b) {\n    if (!a || !b) return (a || b).length;\n    var m = [];\n    for (var i = 0; i <= b.length; i++) {\n      m[i] = [i];\n      if (i === 0) continue;\n      for (var j = 0; j <= a.length; j++) {\n        m[0][j] = j;\n        if (j === 0) continue;\n        m[i][j] = b.charAt(i - 1) == a.charAt(j - 1) ? m[i - 1][j - 1] : Math.min(m[i - 1][j - 1] + 1, m[i][j - 1] + 1, m[i - 1][j] + 1);\n      }\n    }\n    return m[b.length][a.length];\n  }\n  randomPokemon() {\n    this.apiPokemonService.showPokemon = true;\n    let randomNumber = Math.floor(Math.random() * this.apiPokemonService.defaultOption);\n    setTimeout(() => {\n      this.apiPokemonService.loading = true;\n      this.apiPokemonService.getPokemon(randomNumber.toString()).subscribe(data => {\n        this.apiPokemonService.showPokemon = false;\n        this.apiPokemonService.loading = false;\n        this.apiPokemonService.pokemonSelected = data;\n      });\n    }, 3000);\n  }\n}\nDiscoveryPanelComponent.ɵfac = function DiscoveryPanelComponent_Factory(t) {\n  return new (t || DiscoveryPanelComponent)(i0.ɵɵdirectiveInject(i1.ApiPokemonService));\n};\nDiscoveryPanelComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: DiscoveryPanelComponent,\n  selectors: [[\"app-discovery-panel\"]],\n  features: [i0.ɵɵProvidersFeature([ApiPokemonService])],\n  decls: 19,\n  vars: 5,\n  consts: [[1, \"card\", \"border-primary\", \"mb-3\"], [1, \"card-body\"], [1, \"row\"], [1, \"col\", \"col-md-6\"], [3, \"ngSubmit\"], [1, \"input-group\", \"mb-3\"], [\"name\", \"key\", \"type\", \"text\", \"placeholder\", \"name or id\", \"aria-label\", \"\", \"aria-describedby\", \"basic-addon2\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"key\", \"ngModel\"], [1, \"input-group-append\"], [\"type\", \"submit\", \"type\", \"button\", 1, \"btn\", \"btn-primary\", 3, \"click\"], [\"class\", \"alert alert-dismissible alert-primary\", 4, \"ngIf\"], [1, \"col\", \"col-md-6\", \"text-center\"], [1, \"btn\", \"btn-success\"], [1, \"btn\", \"btn-primary\"], [2, \"margin-top\", \"10px\"], [4, \"ngFor\", \"ngForOf\"], [1, \"alert\", \"alert-dismissible\", \"alert-primary\"], [\"type\", \"button\", \"data-dismiss\", \"alert\", 1, \"close\"], [2, \"margin\", \"0px\"]],\n  template: function DiscoveryPanelComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"form\", 4);\n      i0.ɵɵlistener(\"ngSubmit\", function DiscoveryPanelComponent_Template_form_ngSubmit_4_listener() {\n        return ctx.validPokemon();\n      });\n      i0.ɵɵelementStart(5, \"div\", 5)(6, \"input\", 6, 7);\n      i0.ɵɵlistener(\"ngModelChange\", function DiscoveryPanelComponent_Template_input_ngModelChange_6_listener($event) {\n        return ctx.keyValid = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"div\", 8)(9, \"button\", 9);\n      i0.ɵɵlistener(\"click\", function DiscoveryPanelComponent_Template_button_click_9_listener() {\n        return ctx.validPokemon();\n      });\n      i0.ɵɵtext(10, \" Who is That Pokemon \");\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵtemplate(11, DiscoveryPanelComponent_div_11_Template, 6, 0, \"div\", 10);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"div\", 11)(13, \"button\", 12);\n      i0.ɵɵtext(14);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"button\", 13);\n      i0.ɵɵtext(16);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"div\", 14);\n      i0.ɵɵtemplate(18, DiscoveryPanelComponent_div_18_Template, 4, 5, \"div\", 15);\n      i0.ɵɵelementEnd()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngModel\", ctx.keyValid);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", ctx.display_not_found);\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate1(\"Found: \", ctx.listFound.length, \"\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\"Wrong: \", ctx.listWrong.length, \"\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.listLog);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.NgModel, i3.NgForm],\n  styles: [\".i-green[_ngcontent-%COMP%]{\\n    color:green;\\n}\\n\\n.i-red[_ngcontent-%COMP%]{\\n    color:red;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcG9rZW1vbkdhbWUvZGlzY292ZXJ5LXBhbmVsL2Rpc2NvdmVyeS1wYW5lbC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksV0FBVztBQUNmOztBQUVBO0lBQ0ksU0FBUztBQUNiIiwic291cmNlc0NvbnRlbnQiOlsiLmktZ3JlZW57XG4gICAgY29sb3I6Z3JlZW47XG59XG5cbi5pLXJlZHtcbiAgICBjb2xvcjpyZWQ7XG59Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["ApiPokemonService","i0","DiscoveryPanelComponent","constructor","apiPokemonService","ngOnInit","validPokemon","display_not_found","type","rightAnswer","pokemonSelected","name","keyValid","sameString","id","toString","console","log","listFound","push","randomPokemon","failCount","listWrong","listLog","a","b","val","levenshteinDistance","dificultDistance","length","m","i","j","charAt","Math","min","showPokemon","randomNumber","floor","random","defaultOption","setTimeout","loading","getPokemon","subscribe","data","selectors","features","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/home/fabian/Documentos/develops/web-mrk/src/app/pokemonGame/discovery-panel/discovery-panel.component.ts","/home/fabian/Documentos/develops/web-mrk/src/app/pokemonGame/discovery-panel/discovery-panel.component.html"],"sourcesContent":["\nimport { Component, OnInit } from '@angular/core';\nimport { ApiPokemonService } from '../api-pokemon.service';\n@Component({\n  selector: 'app-discovery-panel',\n  templateUrl: './discovery-panel.component.html',\n  styleUrls: ['./discovery-panel.component.css'],\n  providers: [ApiPokemonService]\n})\nexport class DiscoveryPanelComponent implements OnInit {\n  listFound: any[] = [];\n  listWrong: any[] = [];\n  listLog: any[] = [];\n  display_not_found: boolean;\n  keyValid: string;\n  dificultDistance: number = 3;\n  failCount = 0;\n  constructor(public apiPokemonService: ApiPokemonService) { }\n\n  ngOnInit(): void {\n  }\n\n  validPokemon() {\n    this.display_not_found = false;\n    let type;\n    let rightAnswer = this.apiPokemonService.pokemonSelected.name;\n    if (\n      this.keyValid === this.apiPokemonService.pokemonSelected.name ||\n      this.sameString(this.keyValid,this.apiPokemonService.pokemonSelected.name) ||\n      this.keyValid === this.apiPokemonService.pokemonSelected.id.toString()) {\n      console.log(this.apiPokemonService.pokemonSelected);\n      this.listFound.push(this.apiPokemonService.pokemonSelected);\n      this.randomPokemon();\n      type = 1;\n    }\n    else {\n      this.failCount += 1;\n      this.display_not_found = true;\n      this.listWrong.push(this.apiPokemonService.pokemonSelected);\n      type = 0;\n      if (this.failCount === 3) {\n        this.failCount = 0;\n        this.randomPokemon();\n      }\n    }\n    this.listLog.push({\n      'answer': this.keyValid,\n      'rightAnswer':rightAnswer,\n      'type': type\n    })\n    this.keyValid = '';\n  }\n\n  public sameString(a:string,b:string) {\n    let val=this.levenshteinDistance(a,b);\n    console.log(a,b,val)\n    if (val <= this.dificultDistance) {\n\n      return true;\n    }\n    return false;\n  }\n\n  public levenshteinDistance (a, b) {\n    if(!a || !b) return (a || b).length;\n    var m = [];\n    for(var i = 0; i <= b.length; i++){\n        m[i] = [i];\n        if(i === 0) continue;\n        for(var j = 0; j <= a.length; j++){\n            m[0][j] = j;\n            if(j === 0) continue;\n            m[i][j] = b.charAt(i - 1) == a.charAt(j - 1) ? m[i - 1][j - 1] : Math.min(\n                m[i-1][j-1] + 1,\n                m[i][j-1] + 1,\n                m[i-1][j] + 1\n            );\n        }\n    }\n    return m[b.length][a.length];\n}\n\n  randomPokemon() {\n    this.apiPokemonService.showPokemon = true;\n    let randomNumber: number = Math.floor(Math.random() * this.apiPokemonService.defaultOption);\n    setTimeout(() => {\n      this.apiPokemonService.loading = true;\n      this.apiPokemonService.getPokemon(randomNumber.toString()).subscribe(\n        (data) => {\n\n          this.apiPokemonService.showPokemon = false;\n          this.apiPokemonService.loading = false;\n          this.apiPokemonService.pokemonSelected = data;\n        }\n      )\n    }, 3000\n    )\n  }\n\n}\n","<div class=\"card border-primary mb-3\">\n  <div class=\"card-body\">\n    <div class=\"row\">\n      <div class=\"col col-md-6\">\n        <form (ngSubmit)=\"validPokemon()\">\n          <div class=\"input-group mb-3\">\n            <input\n              #key=\"ngModel\"\n              name=\"key\"\n              type=\"text\"\n              class=\"form-control\"\n              placeholder=\"name or id\"\n              [(ngModel)]=\"keyValid\"\n              aria-label=\"\"\n              aria-describedby=\"basic-addon2\"\n            />\n            <div class=\"input-group-append\">\n              <button\n                type=\"submit\"\n                class=\"btn btn-primary\"\n                (click)=\"validPokemon()\"\n                type=\"button\"\n              >\n                Who is That Pokemon\n              </button>\n            </div>\n          </div>\n        </form>\n        <div\n          class=\"alert alert-dismissible alert-primary\"\n          *ngIf=\"display_not_found\"\n        >\n          <button type=\"button\" class=\"close\" data-dismiss=\"alert\">\n            &times;\n          </button>\n          <strong>Oh sorry!</strong> that's not the pokemon, try again\n        </div>\n      </div>\n      <div class=\"col col-md-6 text-center\">\n        <button class=\"btn btn-success\">Found: {{ listFound.length }}</button>\n        <button class=\"btn btn-primary\">Wrong: {{ listWrong.length }}</button>\n        <div style=\"margin-top:10px;\">\n          <div *ngFor=\"let item of listLog\">\n            <p style=\"margin: 0px;\">\n              {{item.answer}} / {{item.rightAnswer}}\n              <i class=\"{{item.type? 'fa fa-check i-green':'fa fa-times i-red'}}\" ></i>\n            </p>\n\n          </div>\n        </div>\n\n      </div>\n    </div>\n  </div>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}