{"ast":null,"code":"import { FormControl, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"@angular/forms\";\nfunction Game2048Component_h2_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h2\", 29);\n    i0.ɵɵtext(1, \"FIN DEL JUEGO\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction Game2048Component_h1_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h1\", 30);\n    i0.ɵɵtext(1, \"WINNER 2048 \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction Game2048Component_p_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 13);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"Max value: \", ctx_r2.maxValue, \"\");\n  }\n}\nfunction Game2048Component_ng_container_24_ng_container_1_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\");\n    i0.ɵɵelementContainerStart(2, 31);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const col_r8 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassMapInterpolate1(\"text-center color-\", col_r8, \" elem-game \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", col_r8, \" \");\n  }\n}\nfunction Game2048Component_ng_container_24_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 33);\n    i0.ɵɵtemplate(2, Game2048Component_ng_container_24_ng_container_1_ng_container_2_Template, 4, 4, \"ng-container\", 32);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const row_r5 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", row_r5);\n  }\n}\nfunction Game2048Component_ng_container_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0, 31);\n    i0.ɵɵtemplate(1, Game2048Component_ng_container_24_ng_container_1_Template, 3, 1, \"ng-container\", 32);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.array);\n  }\n}\nexport class Game2048Component {\n  arrowleftEvent() {\n    this.clickLeft();\n  }\n  arrowrightEvent() {\n    this.clickRight();\n  }\n  arrowupEvent() {\n    this.clickUp();\n  }\n  arrowdownEvent() {\n    this.clickDown();\n  }\n  constructor() {\n    this.maxValue = 0;\n    this.inputSize = new FormControl(4, [Validators.min(3), Validators.max(8), Validators.pattern('[0-9]*')], []);\n    this.endGame = false;\n    this.winner = false;\n    this.sizeArray = 4;\n    this.countMoviments = 0;\n    this.history = [];\n  }\n  ngOnInit() {\n    this.configInit();\n  }\n  configInit() {\n    this.countMoviments = 0;\n    this.winner = false;\n    this.endGame = false;\n    this.history = [];\n    this.array = this.createArray(this.sizeArray);\n    this.array = this.randomInCeros(this.array, this.sizeArray);\n    this.history.push(JSON.parse(JSON.stringify(this.array)));\n    this.getMaxValue(this.array);\n  }\n  backButton() {\n    this.array = JSON.parse(JSON.stringify(this.history[this.countMoviments - 1]));\n    this.endGame = false;\n    this.winner = false;\n    this.countMoviments -= 1;\n    this.getMaxValue(this.array);\n  }\n  changeSize() {\n    if (this.inputSize.status === \"VALID\") {\n      this.sizeArray = this.inputSize.value;\n      this.configInit();\n    }\n  }\n  clickUp() {\n    let matrix = JSON.parse(JSON.stringify(this.moveUp(this.array)));\n    this.nextStep(matrix);\n  }\n  clickDown() {\n    let matrix = JSON.parse(JSON.stringify(this.moveDown(this.array)));\n    this.nextStep(matrix);\n  }\n  clickLeft() {\n    let matrix = JSON.parse(JSON.stringify(this.moveLeft(this.array)));\n    this.nextStep(matrix);\n  }\n  clickRight() {\n    let matrix = JSON.parse(JSON.stringify(this.moveRight(this.array)));\n    this.nextStep(matrix);\n  }\n  getMaxValue(matrix) {\n    for (let i = 0; i < matrix.length; i++) {\n      for (let j = 0; j < matrix[i].length; j++) {\n        if (matrix[i][j] > this.maxValue) {\n          this.maxValue = matrix[i][j];\n        }\n      }\n    }\n  }\n  nextStep(matrix) {\n    if (this.history[this.countMoviments].toString() == matrix.toString()) {\n      return 0;\n    } else {\n      this.array = JSON.parse(JSON.stringify(matrix));\n      this.countMoviments += 1;\n      this.array = JSON.parse(JSON.stringify(this.randomInCeros(this.array, this.sizeArray)));\n      this.history.push(JSON.parse(JSON.stringify(this.array)));\n      this.getMaxValue(this.array);\n      if (this.isEnd(this.array, this.sizeArray)) {\n        console.log(\"termino el juego\");\n        this.endGame = true;\n        return 0;\n      }\n      if (this.maxValue == 2048) {\n        this.winner = true;\n        return 0;\n      }\n    }\n    return 0;\n  }\n  createArray(size) {\n    var i = 0;\n    var matrix = [];\n    while (i < size) {\n      let j = 0;\n      while (j < size) {\n        if (!matrix[i]) {\n          matrix[i] = [];\n        }\n        matrix[i][j] = 0;\n        j = j + 1;\n      }\n      i = i + 1;\n    }\n    return matrix;\n  }\n  getCeros(matrix, size) {\n    let ceros = [];\n    let i = 0;\n    while (i < size) {\n      let j = 0;\n      while (j < size) {\n        if (matrix[i][j] == 0) {\n          ceros.push({\n            'i': i,\n            'j': j\n          });\n        }\n        j = j + 1;\n      }\n      i = i + 1;\n    }\n    return ceros;\n  }\n  //condicion de termino del juego\n  isEnd(matrix, size) {\n    let ceros = this.getCeros(matrix, size);\n    if (ceros.length === 0) {\n      if (this.getCeros(this.moveUp(JSON.parse(JSON.stringify(matrix))), size).length > 0 || this.getCeros(this.moveDown(JSON.parse(JSON.stringify(matrix))), size).length > 0 || this.getCeros(this.moveLeft(JSON.parse(JSON.stringify(matrix))), size).length > 0 || this.getCeros(this.moveRight(JSON.parse(JSON.stringify(matrix))), size).length > 0) {\n        return false;\n      } else {\n        return true;\n      }\n    } else {\n      return false;\n    }\n  }\n  randomInCeros(matrix, size) {\n    let ceros = this.getCeros(matrix, size);\n    if (ceros.length == 0) {\n      return matrix;\n    }\n    let selected = Math.floor(Math.random() * (ceros.length - 0)) + 0;\n    let i = ceros[selected]['i'];\n    let j = ceros[selected]['j'];\n    matrix[i][j] = 2;\n    return matrix;\n  }\n  moveRight(array) {\n    let matrix = [];\n    for (let index = 0; index < array.length; index++) {\n      const row = array[index];\n      matrix[index] = this.moveRightRow(row);\n    }\n    return this.transpose(this.transpose(matrix));\n  }\n  moveLeft(array) {\n    let matrix = [];\n    for (let index = 0; index < array.length; index++) {\n      const row = array[index];\n      matrix[index] = this.moveLeftRow(row);\n    }\n    return this.transpose(this.transpose(matrix));\n  }\n  moveUp(array) {\n    array = this.transpose(array);\n    let matrix = [];\n    for (let index = 0; index < array.length; index++) {\n      const row = array[index];\n      matrix[index] = this.moveLeftRow(row);\n    }\n    return this.transpose(matrix);\n  }\n  moveDown(array) {\n    array = this.transpose(array);\n    let matrix = [];\n    for (let index = 0; index < array.length; index++) {\n      const row = array[index];\n      matrix[index] = this.moveRightRow(row);\n    }\n    return this.transpose(matrix);\n  }\n  /* También esta función resuelve movimientos Down mediante transpose*/\n  moveRightRow(array) {\n    var i = array.length - 1;\n    var countRev = 0;\n    while (i > 0 && countRev < array.length) {\n      if (array[i] === 0) {\n        array.splice(i, 1);\n        array.unshift(0);\n        i = i + 1;\n      }\n      countRev += 1;\n      i = i - 1;\n    }\n    i = array.length - 1;\n    while (i > 0) {\n      if (array[i] == 0) {\n        i = -2;\n      } else {\n        if (array[i] == array[i - 1]) {\n          array[i] = array[i - 1] + array[i];\n          array.splice(i - 1, 1);\n          array.unshift(0);\n        }\n      }\n      i = i - 1;\n    }\n    return array;\n  }\n  /* También esta función resuelve movimientos UP mediante transpose */\n  moveLeftRow(array) {\n    var i = 0;\n    var countRev = 0;\n    while (i < array.length && countRev < array.length) {\n      if (array[i] === 0) {\n        array.splice(i, 1);\n        array.push(0);\n        i = i - 1;\n      }\n      countRev += 1;\n      i = i + 1;\n    }\n    i = 0;\n    while (i < array.length) {\n      if (array[i] == 0) {\n        i = array.length + 1;\n      } else {\n        if (array[i] == array[i + 1]) {\n          array[i] = array[i + 1] + array[i];\n          array.splice(i + 1, 1);\n          array.push(0);\n        }\n      }\n      i = i + 1;\n    }\n    return array;\n  }\n  transpose(matrix) {\n    return matrix[0].map((col, i) => matrix.map(row => row[i]));\n  }\n}\nGame2048Component.ɵfac = function Game2048Component_Factory(t) {\n  return new (t || Game2048Component)();\n};\nGame2048Component.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: Game2048Component,\n  selectors: [[\"app-game2048\"]],\n  hostBindings: function Game2048Component_HostBindings(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵlistener(\"keydown.arrowleft\", function Game2048Component_keydown_arrowleft_HostBindingHandler() {\n        return ctx.arrowleftEvent();\n      }, false, i0.ɵɵresolveWindow)(\"keydown.arrowright\", function Game2048Component_keydown_arrowright_HostBindingHandler() {\n        return ctx.arrowrightEvent();\n      }, false, i0.ɵɵresolveWindow)(\"keydown.arrowup\", function Game2048Component_keydown_arrowup_HostBindingHandler() {\n        return ctx.arrowupEvent();\n      }, false, i0.ɵɵresolveWindow)(\"keydown.arrowdown\", function Game2048Component_keydown_arrowdown_HostBindingHandler() {\n        return ctx.arrowdownEvent();\n      }, false, i0.ɵɵresolveWindow);\n    }\n  },\n  decls: 42,\n  vars: 12,\n  consts: [[1, \"text-left\", \"title-1\"], [1, \"title-sub-1\"], [\"class\", \"text-center\", \"style\", \"color: red\", 4, \"ngIf\"], [\"class\", \"text-center\", \"style\", \"color: blue\", 4, \"ngIf\"], [1, \"\"], [1, \"row\"], [1, \"col-md-12\"], [1, \"col-md-6\"], [1, \"label-1\"], [1, \"input-group\", \"mb-1\"], [\"type\", \"number\", \"placeholder\", \"valor de 4 a 15\", \"aria-describedby\", \"basic-addon2\", 1, \"form-control\", 3, \"formControl\"], [1, \"input-group-append\"], [\"type\", \"button\", 1, \"btn\", \"btn-info\", 3, \"click\"], [1, \"text-center\", \"label-1\"], [\"class\", \"text-center label-1\", 4, \"ngIf\"], [1, \"row\", \"tablero\"], [1, \"col-md-12\", 2, \"text-align\", \"-webkit-center\"], [\"class\", \"text-center\", 4, \"ngIf\"], [1, \"col-md-12\", \"text-right\"], [1, \"btn\", \"btn-success\", \"btn-1\", 3, \"disabled\", \"click\"], [1, \"fa\", \"fa-undo\"], [1, \"col-md-12\", \"text-center\"], [1, \"btn\", \"btn-info\", \"btn-lg\", 3, \"disabled\", \"click\"], [1, \"fa\", \"fa-arrow-up\"], [1, \"fa\", \"fa-arrow-left\"], [1, \"btn\", \"btn-danger\", \"btn-lg\", 3, \"disabled\"], [1, \"fa\", \"fa-gamepad\"], [1, \"fa\", \"fa-arrow-right\"], [1, \"fa\", \"fa-arrow-down\"], [1, \"text-center\", 2, \"color\", \"red\"], [1, \"text-center\", 2, \"color\", \"blue\"], [1, \"text-center\"], [4, \"ngFor\", \"ngForOf\"], [2, \"display\", \"table\"]],\n  template: function Game2048Component_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h1\", 0);\n      i0.ɵɵtext(1, \" GAME 2048x \");\n      i0.ɵɵelementStart(2, \"span\", 1);\n      i0.ɵɵtext(3, \" by Fabi\\u00E1n Arismendi \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(4, Game2048Component_h2_4_Template, 2, 0, \"h2\", 2);\n      i0.ɵɵtemplate(5, Game2048Component_h1_5_Template, 2, 0, \"h1\", 3);\n      i0.ɵɵelementStart(6, \"div\", 4)(7, \"div\", 5)(8, \"div\", 6)(9, \"div\", 5)(10, \"div\", 7)(11, \"p\", 8);\n      i0.ɵɵtext(12, \"Size :\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"div\", 9);\n      i0.ɵɵelement(14, \"input\", 10);\n      i0.ɵɵelementStart(15, \"div\", 11)(16, \"button\", 12);\n      i0.ɵɵlistener(\"click\", function Game2048Component_Template_button_click_16_listener() {\n        return ctx.changeSize();\n      });\n      i0.ɵɵtext(17, \" change \");\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(18, \"div\", 7)(19, \"p\", 13);\n      i0.ɵɵtext(20);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(21, Game2048Component_p_21_Template, 2, 1, \"p\", 14);\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(22, \"div\", 15)(23, \"div\", 16);\n      i0.ɵɵtemplate(24, Game2048Component_ng_container_24_Template, 2, 1, \"ng-container\", 17);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(25, \"div\", 5)(26, \"div\", 18)(27, \"button\", 19);\n      i0.ɵɵlistener(\"click\", function Game2048Component_Template_button_click_27_listener() {\n        return ctx.backButton();\n      });\n      i0.ɵɵelement(28, \"i\", 20);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(29, \"div\", 21)(30, \"button\", 22);\n      i0.ɵɵlistener(\"click\", function Game2048Component_Template_button_click_30_listener() {\n        return ctx.clickUp();\n      });\n      i0.ɵɵelement(31, \"i\", 23);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(32, \"div\", 21)(33, \"button\", 22);\n      i0.ɵɵlistener(\"click\", function Game2048Component_Template_button_click_33_listener() {\n        return ctx.clickLeft();\n      });\n      i0.ɵɵelement(34, \"i\", 24);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(35, \"button\", 25);\n      i0.ɵɵelement(36, \"i\", 26);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(37, \"button\", 22);\n      i0.ɵɵlistener(\"click\", function Game2048Component_Template_button_click_37_listener() {\n        return ctx.clickRight();\n      });\n      i0.ɵɵelement(38, \"i\", 27);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(39, \"div\", 21)(40, \"button\", 22);\n      i0.ɵɵlistener(\"click\", function Game2048Component_Template_button_click_40_listener() {\n        return ctx.clickDown();\n      });\n      i0.ɵɵelement(41, \"i\", 28);\n      i0.ɵɵelementEnd()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngIf\", ctx.endGame);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.winner);\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"formControl\", ctx.inputSize);\n      i0.ɵɵadvance(6);\n      i0.ɵɵtextInterpolate1(\"movements: \", ctx.countMoviments, \"\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.maxValue);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ctx.array);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"disabled\", ctx.countMoviments == 0);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"disabled\", ctx.endGame);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"disabled\", ctx.endGame);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"disabled\", true);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"disabled\", ctx.endGame);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"disabled\", ctx.endGame);\n    }\n  },\n  dependencies: [i1.NgForOf, i1.NgIf, i2.DefaultValueAccessor, i2.NumberValueAccessor, i2.NgControlStatus, i2.FormControlDirective],\n  styles: [\".title-1[_ngcontent-%COMP%] {\\n  color: #fff;\\n}\\n.title-sub-1[_ngcontent-%COMP%] {\\n  color: #b4ed2e;\\n  font-style: italic;\\n  font-size: 20px;\\n}\\n.label-1[_ngcontent-%COMP%] {\\n  margin-bottom: 0px;\\n  color: #fff;\\n}\\n.tablero[_ngcontent-%COMP%] {\\n  margin-top: 30px;\\n}\\n.elem-game[_ngcontent-%COMP%] {\\n  display: table-cell;\\n  font-size: 30px;\\n  margin-left: 30px;\\n  color: #776e65;\\n  min-width: 120px !important;\\n  min-height: 80px !important;\\n  margin: 0px;\\n  padding: 10px;\\n  border: 3px;\\n  border-color: #332420;\\n  border-style: groove;\\n  height: 100px;\\n  padding: 20px;\\n}\\n.vector-elem[_ngcontent-%COMP%] {\\n  color: grey;\\n  font-size: 10px;\\n}\\n.color-0[_ngcontent-%COMP%] {\\n  background-color: #faf5f1;\\n  color: #faf5f1;\\n}\\n.color-2[_ngcontent-%COMP%] {\\n  background-color: #eee4da;\\n}\\n.color-4[_ngcontent-%COMP%] {\\n  background-color: #ede0c8;\\n}\\n.color-8[_ngcontent-%COMP%] {\\n  background-color: #f2b179;\\n  color: #f9f6f2;\\n}\\n.color-16[_ngcontent-%COMP%] {\\n  background-color: #f59563;\\n  color: #f9f6f2;\\n}\\n.color-32[_ngcontent-%COMP%] {\\n  background-color: #f67c5f;\\n  color: #f9f6f2;\\n}\\n.color-64[_ngcontent-%COMP%] {\\n  background-color: #f65e3b;\\n  color: #f9f6f2;\\n}\\n.color-128[_ngcontent-%COMP%] {\\n  background-color: #edcf72;\\n  color: #f9f6f2;\\n}\\n.color-256[_ngcontent-%COMP%] {\\n  background-color: #edcc61;\\n  color: #f9f6f2;\\n}\\n.color-512[_ngcontent-%COMP%] {\\n  background-color: #edc850;\\n  color: #f9f6f2;\\n}\\n.color-1024[_ngcontent-%COMP%] {\\n  background-color: #edc53f;\\n  color: #f9f6f2;\\n}\\n.color-2048[_ngcontent-%COMP%] {\\n  background-color: #edc22e;\\n  color: #f9f6f2;\\n}\\n.color-4096[_ngcontent-%COMP%] {\\n  background-color: #a4ed2e;\\n  color: #f9f6f2;\\n}\\n.color-8192[_ngcontent-%COMP%] {\\n  background-color: #2eed9d;\\n  color: #f9f6f2;\\n}\\n.color-16384[_ngcontent-%COMP%] {\\n  background-color: #2ec0ed;\\n  color: #f9f6f2;\\n}\\n.color-32768[_ngcontent-%COMP%] {\\n  background-color: #2e7aed;\\n  color: #f9f6f2;\\n}\\n.color-65536[_ngcontent-%COMP%] {\\n  background-color: #2e41ed;\\n  color: #f9f6f2;\\n}\\n.color-131072[_ngcontent-%COMP%] {\\n  background-color: #672eed;\\n  color: #f9f6f2;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZ2FtZTIwNDgvZ2FtZTIwNDgvZ2FtZTIwNDguY29tcG9uZW50Lmxlc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBSUE7RUFDRSxXQUFBO0FBSEY7QUFLQTtFQUNFLGNBQUE7RUFDQSxrQkFBQTtFQUNBLGVBQUE7QUFIRjtBQU1BO0VBQ0Usa0JBQUE7RUFDQSxXQUFBO0FBSkY7QUFPQTtFQUNFLGdCQUFBO0FBTEY7QUFRQTtFQUNJLG1CQUFBO0VBQ0EsZUFBQTtFQUNBLGlCQUFBO0VBQ0EsY0FBQTtFQUNBLDJCQUFBO0VBQ0EsMkJBQUE7RUFDQSxXQUFBO0VBQ0EsYUFBQTtFQUNBLFdBQUE7RUFDQSxxQkFBQTtFQUNBLG9CQUFBO0VBQ0EsYUFBQTtFQUNBLGFBQUE7QUFOSjtBQVFBO0VBQ0ksV0FBQTtFQUNBLGVBQUE7QUFOSjtBQVFBO0VBQ0kseUJBQUE7RUFDQSxjQUFBO0FBTko7QUFRQTtFQUNJLHlCQUFBO0FBTko7QUFRQTtFQUNJLHlCQUFBO0FBTko7QUFRQTtFQUNJLHlCQUFBO0VBQ0EsY0FBQTtBQU5KO0FBUUE7RUFDSSx5QkFBQTtFQUNBLGNBQUE7QUFOSjtBQVFBO0VBQ0kseUJBQUE7RUFDQSxjQUFBO0FBTko7QUFRQTtFQUNJLHlCQUFBO0VBQ0EsY0FBQTtBQU5KO0FBUUE7RUFDSSx5QkFBQTtFQUNBLGNBQUE7QUFOSjtBQVFBO0VBQ0kseUJBQUE7RUFDQSxjQUFBO0FBTko7QUFRQTtFQUNJLHlCQUFBO0VBQ0EsY0FBQTtBQU5KO0FBUUE7RUFDSSx5QkFBQTtFQUNBLGNBQUE7QUFOSjtBQVFBO0VBQ0kseUJBQUE7RUFDQSxjQUFBO0FBTko7QUFRQTtFQUNJLHlCQUFBO0VBQ0EsY0FBQTtBQU5KO0FBUUE7RUFDSSx5QkFBQTtFQUNBLGNBQUE7QUFOSjtBQVFBO0VBQ0kseUJBQUE7RUFDQSxjQUFBO0FBTko7QUFRQTtFQUNJLHlCQUFBO0VBQ0EsY0FBQTtBQU5KO0FBUUE7RUFDSSx5QkFBQTtFQUNBLGNBQUE7QUFOSjtBQVFBO0VBQ0kseUJBQUE7RUFDQSxjQUFBO0FBTkoiLCJzb3VyY2VzQ29udGVudCI6WyJAc2l6ZUVsZW06IDMwcHg7XG5AZ3JleTpncmV5O1xuQHNpemVWZWN0b3I6IDEwcHg7XG5cbi50aXRsZS0xe1xuICBjb2xvcjojZmZmO1xufVxuLnRpdGxlLXN1Yi0xe1xuICBjb2xvcjogI2I0ZWQyZTtcbiAgZm9udC1zdHlsZTogaXRhbGljO1xuICBmb250LXNpemU6IDIwcHg7XG5cbn1cbi5sYWJlbC0xe1xuICBtYXJnaW4tYm90dG9tOiAwcHg7XG4gIGNvbG9yOiNmZmY7XG59XG5cbi50YWJsZXJve1xuICBtYXJnaW4tdG9wOjMwcHg7XG59XG5cbi5lbGVtLWdhbWV7XG4gICAgZGlzcGxheTogdGFibGUtY2VsbDtcbiAgICBmb250LXNpemU6IEBzaXplRWxlbTtcbiAgICBtYXJnaW4tbGVmdDpAc2l6ZUVsZW07XG4gICAgY29sb3I6ICM3NzZlNjU7XG4gICAgbWluLXdpZHRoOiAxMjBweCAhaW1wb3J0YW50O1xuICAgIG1pbi1oZWlnaHQ6IDgwcHggIWltcG9ydGFudDtcbiAgICBtYXJnaW46MHB4O1xuICAgIHBhZGRpbmc6MTBweDtcbiAgICBib3JkZXI6IDNweDtcbiAgICBib3JkZXItY29sb3I6ICMzMzI0MjA7XG4gICAgYm9yZGVyLXN0eWxlOiBncm9vdmU7XG4gICAgaGVpZ2h0OiAxMDBweDtcbiAgICBwYWRkaW5nOiAyMHB4O1xufVxuLnZlY3Rvci1lbGVte1xuICAgIGNvbG9yOkBncmV5O1xuICAgIGZvbnQtc2l6ZTogQHNpemVWZWN0b3I7XG59XG4uY29sb3ItMHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiNmYWY1ZjE7XG4gICAgY29sb3I6ICNmYWY1ZjE7XG59XG4uY29sb3ItMntcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiNlZWU0ZGFcbn1cbi5jb2xvci00e1xuICAgIGJhY2tncm91bmQtY29sb3I6I2VkZTBjOFxufVxuLmNvbG9yLTh7XG4gICAgYmFja2dyb3VuZC1jb2xvcjojZjJiMTc5O1xuICAgIGNvbG9yOiAjZjlmNmYyO1xufVxuLmNvbG9yLTE2e1xuICAgIGJhY2tncm91bmQtY29sb3I6I2Y1OTU2MztcbiAgICBjb2xvcjogI2Y5ZjZmMjtcbn1cbi5jb2xvci0zMntcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiNmNjdjNWY7XG4gICAgY29sb3I6ICNmOWY2ZjI7XG59XG4uY29sb3ItNjR7XG4gICAgYmFja2dyb3VuZC1jb2xvcjojZjY1ZTNiO1xuICAgIGNvbG9yOiAjZjlmNmYyO1xufVxuLmNvbG9yLTEyOHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiNlZGNmNzI7XG4gICAgY29sb3I6ICNmOWY2ZjI7XG59XG4uY29sb3ItMjU2e1xuICAgIGJhY2tncm91bmQtY29sb3I6I2VkY2M2MTtcbiAgICBjb2xvcjogI2Y5ZjZmMjtcbn1cbi5jb2xvci01MTJ7XG4gICAgYmFja2dyb3VuZC1jb2xvcjojZWRjODUwO1xuICAgIGNvbG9yOiAjZjlmNmYyO1xufVxuLmNvbG9yLTEwMjR7XG4gICAgYmFja2dyb3VuZC1jb2xvcjojZWRjNTNmO1xuICAgIGNvbG9yOiAjZjlmNmYyO1xufVxuLmNvbG9yLTIwNDh7XG4gICAgYmFja2dyb3VuZC1jb2xvcjojZWRjMjJlO1xuICAgIGNvbG9yOiAjZjlmNmYyO1xufVxuLmNvbG9yLTQwOTZ7XG4gICAgYmFja2dyb3VuZC1jb2xvcjojYTRlZDJlO1xuICAgIGNvbG9yOiAjZjlmNmYyO1xufVxuLmNvbG9yLTgxOTJ7XG4gICAgYmFja2dyb3VuZC1jb2xvcjojMmVlZDlkO1xuICAgIGNvbG9yOiAjZjlmNmYyO1xufVxuLmNvbG9yLTE2Mzg0e1xuICAgIGJhY2tncm91bmQtY29sb3I6IzJlYzBlZDtcbiAgICBjb2xvcjogI2Y5ZjZmMjtcbn1cbi5jb2xvci0zMjc2OHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiMyZTdhZWQ7XG4gICAgY29sb3I6ICNmOWY2ZjI7XG59XG4uY29sb3ItNjU1MzZ7XG4gICAgYmFja2dyb3VuZC1jb2xvcjojMmU0MWVkO1xuICAgIGNvbG9yOiAjZjlmNmYyO1xufVxuLmNvbG9yLTEzMTA3MntcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiM2NzJlZWQ7XG4gICAgY29sb3I6ICNmOWY2ZjI7XG59XG5cbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"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","names":["FormControl","Validators","i0","Game2048Component","arrowleftEvent","clickLeft","arrowrightEvent","clickRight","arrowupEvent","clickUp","arrowdownEvent","clickDown","constructor","min","max","pattern","ngOnInit","configInit","countMoviments","winner","endGame","history","array","createArray","sizeArray","randomInCeros","push","JSON","parse","stringify","getMaxValue","backButton","changeSize","inputSize","status","value","matrix","moveUp","nextStep","moveDown","moveLeft","moveRight","i","length","j","maxValue","toString","isEnd","console","log","size","getCeros","ceros","selected","Math","floor","random","index","row","moveRightRow","transpose","moveLeftRow","countRev","splice","unshift","map","col","selectors","hostBindings","ctx"],"sourceRoot":"","sources":["/home/fabian/Documentos/develops/web-mrk/src/app/game2048/game2048/game2048.component.ts","/home/fabian/Documentos/develops/web-mrk/src/app/game2048/game2048/game2048.component.html"],"sourcesContent":["import { Component, OnInit, HostListener } from '@angular/core';\nimport { FormControl, Validators } from '@angular/forms';\nimport { typeWithParameters } from '@angular/compiler/src/render3/util';\n\n@Component({\n  selector: 'app-game2048',\n  templateUrl: './game2048.component.html',\n  styleUrls: ['./game2048.component.less']\n})\nexport class Game2048Component implements OnInit {\n\n  @HostListener('window:keydown.arrowleft') arrowleftEvent() {\n    this.clickLeft();\n  }\n  @HostListener('window:keydown.arrowright') arrowrightEvent() {\n    this.clickRight();\n  }\n  @HostListener('window:keydown.arrowup') arrowupEvent() {\n    this.clickUp();\n  }\n  @HostListener('window:keydown.arrowdown') arrowdownEvent() {\n    this.clickDown();\n  }\n\n  array: number[][];\n\n  maxValue: number = 0;\n\n  inputSize = new FormControl(\n    4,\n    [\n      Validators.min(3),\n      Validators.max(8),\n      Validators.pattern('[0-9]*')\n    ], []);\n\n  endGame = false;\n\n  winner = false;\n\n  sizeArray: number = 4;\n\n  countMoviments: number = 0;\n\n  history: number[][][] = [];\n\n  constructor() { }\n\n  ngOnInit(): void {\n    this.configInit();\n  }\n\n  public configInit() {\n    this.countMoviments = 0;\n    this.winner = false;\n    this.endGame = false;\n    this.history = [];\n    this.array = this.createArray(this.sizeArray);\n    this.array = this.randomInCeros(this.array, this.sizeArray);\n    this.history.push(JSON.parse(JSON.stringify(this.array)));\n    this.getMaxValue(this.array);\n  }\n\n\n  public backButton() {\n    this.array = JSON.parse(JSON.stringify(this.history[this.countMoviments - 1]));\n    this.endGame = false;\n    this.winner = false;\n    this.countMoviments -= 1;\n    this.getMaxValue(this.array);\n  }\n\n  public changeSize() {\n    if (this.inputSize.status === \"VALID\") {\n      this.sizeArray = this.inputSize.value;\n      this.configInit();\n    }\n  }\n\n  public clickUp() {\n    let matrix: number[][] = JSON.parse(JSON.stringify(this.moveUp(this.array)));\n    this.nextStep(matrix);\n  }\n\n  public clickDown() {\n    let matrix: number[][] = JSON.parse(JSON.stringify(this.moveDown(this.array)));\n    this.nextStep(matrix);\n  }\n\n  public clickLeft() {\n    let matrix: number[][] = JSON.parse(JSON.stringify(this.moveLeft(this.array)));\n    this.nextStep(matrix);\n  }\n\n  public clickRight() {\n    let matrix: number[][] = JSON.parse(JSON.stringify(this.moveRight(this.array)));\n    this.nextStep(matrix);\n  }\n\n  public getMaxValue(matrix: number[][]) {\n    for (let i = 0; i < matrix.length; i++) {\n      for (let j = 0; j < matrix[i].length; j++) {\n        if (matrix[i][j] > this.maxValue) {\n          this.maxValue = matrix[i][j];\n        }\n      }\n    }\n  }\n\n  public nextStep(matrix: number[][]) {\n    if (this.history[this.countMoviments].toString() == matrix.toString()) {\n      return 0;\n    }\n    else {\n      this.array = JSON.parse(JSON.stringify(matrix));\n      this.countMoviments += 1;\n      this.array = JSON.parse(JSON.stringify(this.randomInCeros(this.array, this.sizeArray)));\n      this.history.push(JSON.parse(JSON.stringify(this.array)));\n      this.getMaxValue(this.array);\n      if (this.isEnd(this.array, this.sizeArray)) {\n        console.log(\"termino el juego\");\n        this.endGame = true;\n        return 0;\n      }\n      if (this.maxValue == 2048) {\n        this.winner = true;\n        return 0;\n      }\n    }\n    return 0;\n  }\n\n  public createArray(size: number): number[][] {\n    var i = 0;\n    var matrix: number[][] = [];\n    while (i < size) {\n      let j = 0;\n      while (j < size) {\n        if (!matrix[i]) {\n          matrix[i] = [];\n        }\n        matrix[i][j] = 0;\n        j = j + 1;\n      }\n      i = i + 1;\n    }\n    return matrix;\n  }\n\n  public getCeros(matrix, size) {\n    let ceros = [];\n    let i = 0;\n    while (i < size) {\n      let j = 0;\n      while (j < size) {\n        if (matrix[i][j] == 0) {\n          ceros.push({ 'i': i, 'j': j });\n        }\n        j = j + 1;\n      }\n      i = i + 1;\n    }\n    return ceros;\n  }\n\n  //condicion de termino del juego\n  public isEnd(matrix: number[][], size: number): boolean {\n    let ceros = this.getCeros(matrix, size);\n    if (ceros.length === 0) {\n      if (\n        this.getCeros(this.moveUp(JSON.parse(JSON.stringify(matrix))), size).length > 0 ||\n        this.getCeros(this.moveDown(JSON.parse(JSON.stringify(matrix))), size).length > 0 ||\n        this.getCeros(this.moveLeft(JSON.parse(JSON.stringify(matrix))), size).length > 0 ||\n        this.getCeros(this.moveRight(JSON.parse(JSON.stringify(matrix))), size).length > 0\n      ) {\n        return false;\n      }\n      else {\n        return true;\n      }\n    }\n    else {\n      return false;\n    }\n  }\n\n  public randomInCeros(matrix: number[][], size: number): number[][] {\n    let ceros = this.getCeros(matrix, size);\n    if (ceros.length == 0) {\n      return matrix;\n    }\n    let selected = Math.floor(Math.random() * (ceros.length - 0)) + 0;\n    let i = ceros[selected]['i'];\n    let j = ceros[selected]['j'];\n    matrix[i][j] = 2;\n    return matrix;\n  }\n\n  public moveRight(array: number[][]): number[][] {\n    let matrix: number[][] = [];\n    for (let index = 0; index < array.length; index++) {\n      const row = array[index];\n      matrix[index] = this.moveRightRow(row);\n    }\n    return this.transpose(this.transpose(matrix));\n  }\n\n  public moveLeft(array: number[][]): number[][] {\n    let matrix: number[][] = [];\n    for (let index = 0; index < array.length; index++) {\n      const row = array[index];\n      matrix[index] = this.moveLeftRow(row);\n    }\n    return this.transpose(this.transpose(matrix));\n  }\n\n  public moveUp(array: number[][]): number[][] {\n    array = this.transpose(array);\n    let matrix: number[][] = [];\n    for (let index = 0; index < array.length; index++) {\n      const row = array[index];\n      matrix[index] = this.moveLeftRow(row);\n    }\n    return this.transpose(matrix);\n  }\n\n  public moveDown(array: number[][]): number[][] {\n    array = this.transpose(array);\n    let matrix: number[][] = [];\n    for (let index = 0; index < array.length; index++) {\n      const row = array[index];\n      matrix[index] = this.moveRightRow(row);\n    }\n    return this.transpose(matrix);\n  }\n\n  /* También esta función resuelve movimientos Down mediante transpose*/\n  public moveRightRow(array: number[]): number[] {\n    var i = array.length - 1;\n    var countRev = 0;\n    while (i > 0 && countRev < array.length) {\n      if (array[i] === 0) {\n        array.splice(i, 1);\n        array.unshift(0);\n        i = i + 1;\n      }\n      countRev += 1\n      i = i - 1;\n    }\n    i = array.length - 1;\n    while (i > 0) {\n      if (array[i] == 0) {\n        i = -2;\n      }\n      else {\n        if (array[i] == array[i - 1]) {\n          array[i] = array[i - 1] + array[i];\n          array.splice(i - 1, 1);\n          array.unshift(0);\n        }\n      }\n      i = i - 1;\n    }\n    return array;\n  }\n\n  /* También esta función resuelve movimientos UP mediante transpose */\n  public moveLeftRow(array: number[]): number[] {\n    var i = 0;\n    var countRev = 0;\n    while (i < array.length && countRev < array.length) {\n      if (array[i] === 0) {\n        array.splice(i, 1);\n        array.push(0);\n        i = i - 1;\n      }\n      countRev += 1\n      i = i + 1;\n    }\n    i = 0;\n    while (i < array.length) {\n      if (array[i] == 0) {\n        i = array.length + 1;\n      }\n      else {\n        if (array[i] == array[i + 1]) {\n          array[i] = array[i + 1] + array[i];\n          array.splice(i + 1, 1);\n          array.push(0);\n        }\n      }\n      i = i + 1;\n    }\n    return array;\n  }\n\n  transpose(matrix) {\n    return matrix[0].map((col, i) => matrix.map(row => row[i]));\n  }\n\n  // thanks: https://www.freecodecamp.org/news/how-to-clone-an-array-in-javascript-1d3183468f6a/\n}\n","<h1 class=\"text-left title-1\">\n  GAME 2048x <span class=\"title-sub-1\"> by Fabián Arismendi </span>\n</h1>\n<h2 class=\"text-center\" style=\"color: red\" *ngIf=\"endGame\">FIN DEL JUEGO</h2>\n<h1 class=\"text-center\" style=\"color: blue\" *ngIf=\"winner\">WINNER 2048 </h1>\n<div class=\"\">\n  <div class=\"row\">\n    <div class=\"col-md-12\">\n      <div class=\"row\">\n        <div class=\"col-md-6\">\n          <p class=\"label-1\">Size :</p>\n          <div class=\"input-group mb-1\">\n            <input\n              type=\"number\"\n              class=\"form-control\"\n              [formControl]=\"inputSize\"\n              placeholder=\"valor de 4 a 15\"\n              aria-describedby=\"basic-addon2\"\n            />\n            <div class=\"input-group-append\">\n              <button\n                class=\"btn btn-info\"\n                type=\"button\"\n                (click)=\"changeSize()\"\n              >\n                change\n              </button>\n            </div>\n          </div>\n        </div>\n        <div class=\"col-md-6\">\n          <p class=\"text-center label-1\">movements: {{ countMoviments }}</p>\n          <p class=\"text-center label-1\" *ngIf=\"maxValue\">Max value: {{ maxValue }}</p>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class=\"row tablero\">\n    <div class=\"col-md-12\" style='text-align: -webkit-center;'>\n      <ng-container class=\"text-center\" *ngIf=\"array\">\n        <ng-container *ngFor=\"let row of array; let i = index\">\n          <div style=\"display: table\">\n            <ng-container *ngFor=\"let col of row; let j = index\">\n              <div class=\"text-center color-{{ col }} elem-game \">\n                <ng-container class=\"text-center\">\n                  {{ col }}\n                </ng-container>\n              </div>\n            </ng-container>\n          </div>\n        </ng-container>\n      </ng-container>\n    </div>\n  </div>\n  <div class=\"row\">\n    <div class=\"col-md-12 text-right\">\n      <button\n        class=\"btn btn-success btn-1\"\n        [disabled]=\"countMoviments == 0\"\n        (click)=\"backButton()\"\n      >\n        <i class=\"fa fa-undo \"></i>\n      </button>\n    </div>\n    <div class=\"col-md-12 text-center\">\n      <button class=\"btn btn-info btn-lg\" [disabled]=\"endGame\" (click)=\"clickUp()\">\n        <i class=\"fa fa-arrow-up \"></i>\n      </button>\n    </div>\n    <div class=\"col-md-12 text-center\">\n      <button class=\"btn btn-info btn-lg\" [disabled]=\"endGame\" (click)=\"clickLeft()\">\n        <i class=\"fa fa-arrow-left \"></i>\n      </button>\n      <button class=\"btn btn-danger btn-lg\" [disabled]=\"true\" >\n        <i class=\"fa fa-gamepad \"></i>\n      </button>\n      <button class=\"btn btn-info btn-lg\" [disabled]=\"endGame\" (click)=\"clickRight()\">\n        <i class=\"fa fa-arrow-right \"></i>\n      </button>\n    </div>\n    <div class=\"col-md-12 text-center\">\n\n      <button class=\"btn btn-info btn-lg\" [disabled]=\"endGame\" (click)=\"clickDown()\">\n        <i class=\"fa fa-arrow-down \"></i>\n      </button>\n\n    </div>\n  </div>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}